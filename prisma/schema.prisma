generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/** Single-tenant QuickBooks tokens */
model OAuthState {
  id             Int      @id @default(autoincrement())
  realmId        String   @db.VarChar(32)   // optional: keep small, QBO realmIds fit
  accessToken    String   @db.Text          // was String (VARCHAR 191) -> make TEXT
  refreshToken   String   @db.Text          // was String (VARCHAR 191) -> make TEXT
  tokenExpiresAt DateTime
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}


/** Local invoices */
model Invoice {
  id           Int            @id @default(autoincrement())
  clientName   String
  email        String
  dueDate      DateTime
  amount       Decimal         @db.Decimal(10,2)
  status       InvoiceStatus   @default(Draft)
  description  String?
  createdAt    DateTime        @default(now())
  qboInvoiceId String?
}

enum InvoiceStatus {
  Draft
  Paid
}
